@annot("check", "privateMethod", "messagePassingPrivateMethod")
@nce

/*
Matheus Saraiva Le√£o Andrade
matheus.andrade@dcomp.sor.ufscar.br
*/

/*
  @filename   ok-ger15.kra

  @comment    Teste se esta correta a geracao de codigo para metodos privados.


  */

open
class A
    var Int i
    var Int j
    
    private func p {
        Out.print: self.i, " ";
    }    
    
    private func q {
        Out.print: self.j, " ";
    }    
    
    func init_A {
        self.i = 1;
        self.j = 2;
    }  
    
    func call_p {
        self.p;
    }    
    
    func call_q {
        self.q;
    }    
    
    func r {
        Out.print: self.i, " ";
    }    
    
    func s {
        Out.print: self.j, " ";
    }    
end


class B extends A
    var Int i;
    var Int j;
    
    private func p {
        Out.print: self.i, " ";
    }    
    
    private func q {
        Out.print: self.j, " ";
    }    
    
    func init_B {
        self.i = 3;
        self.j = 4;
    }    
    
    override
    func call_p {
        self.p;
    }  
    
    override
    func call_q {
        self.q;
    }    
    
    override
    func r {
        Out.print: self.i, " ";
    }    
    
    override
    func s {
        Out.print: self.j, " ";
    }    
end


class C extends A
    var Int i;
    var Int j;
    
    private func p {
        Out.print: self.i, " ";
    }    
    
    private func q {
        Out.print: self.j, " ";
    }    
    
    func init_C {
        self.i = 5;
        self.j = 6;
    }    
    
    override
    func call_p {
        self.p;
    }  
    
    override
    func call_q {
        self.q;
    }    
    
    override
    func r {
        Out.print: self.i, " ";
    }    
    
    override
    func s {
        Out.print: self.j, " ";
    }    
end


class Program
    
    func run {
        var A a;
        var B b;
        var C c;
        
        Out.println: "1 2 1 2 3 4 3 4 5 6 5 6";
        a = A.new;
        a.init_A;
        a.call_p;//1
        a.call_q;//2
        a.r;//1
        a.s;//2
        b = B.new;
        b.init_B;
        b.init_A;
        b.call_p;//3
        b.call_q;//4
        b.r;//3
        b.s;//4
        c = C.new;
        c.init_C;
        c.init_A;
        c.init_C;
        c.call_p;//5
        c.call_q;//6
        c.r;//5
        c.s;//6
    }    
end


